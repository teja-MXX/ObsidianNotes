# ğŸ“¡ Linux Network Services â€“ Key Points

## âœ… Importance of Managing Network Services
- Essential for remote operations and system communication
- Core for secure and efficient Linux system administration

## ğŸ› ï¸ Critical Skills to Master
- Connecting to other systems over a network
- Transferring files securely
- Monitoring and analyzing network traffic
- Configuring services effectively and securely

## ğŸ” Relevance to Penetration Testing
- Helps identify network/service vulnerabilities
- Enhances understanding of potential attack surfaces
- Improves security assessment capabilities

## âš ï¸ Example Scenario
- A Linux user connects to another server using **unencrypted FTP**
- Attacker captures **credentials in plain text** from network traffic
- Reveals a critical security oversight by the administrator
- Emphasizes the need to understand insecure protocols like FTP

## ğŸ§  Takeaway
- Awareness of protocol security is vital
- Use encrypted alternatives (e.g., SFTP, FTPS)
- Regular service audits improve security posture

## ğŸ‘¥ Who Benefits?
- Linux system administrators
- General users
- Penetration testers and security professionals

## ğŸ¯ Focus
- Prioritize learning **commonly used** and **high-risk** network services


# ğŸ” SSH â€“ Secure Shell

## ğŸ§¾ What is SSH?
- A **network protocol** for securely transmitting data and commands over a network
- Commonly used to **remotely manage Linux systems** and **transfer files securely**

## ğŸ“¦ SSH Server Requirement
- To connect via SSH, a corresponding **SSH server must be running** on the target system

## ğŸ› ï¸ OpenSSH â€“ The Standard SSH Server
- **OpenSSH** is the most widely used and open-source implementation of the SSH protocol
- Enables secure:
  - Remote command execution
  - File transfers
  - Remote system management

## ğŸ› ï¸ Configuration â€“ `/etc/ssh/sshd_config`
- OpenSSH settings can be customized via `/etc/ssh/sshd_config`
- Editable with a text editor (e.g., `nano`, `vim`)


# ğŸ“ NFS â€“ Network File System

## ğŸ§¾ What is NFS?
- A **network protocol** that allows remote file systems to be mounted and accessed **as if they were local**
- Facilitates **centralized file storage and management** across a network

## ğŸ§‘â€ğŸ’» Use Cases for Administrators
- Centralized file management for **Linux and Windows** systems
- Easy **collaboration and data sharing**
- Replicate file systems between servers for **redundancy or load balancing**

## ğŸ› ï¸ Common NFS Server Implementations
- **NFS-UTILS** â€“ Ubuntu
- **NFS-Ganesha** â€“ Solaris
- **OpenNFS** â€“ RedHat Linux

## âš™ï¸ Features
- **Access controls** to manage file-level permissions
- **Real-time file transfers**
- Supports **multiple users** accessing data simultaneously

## ğŸ› ï¸ Configuration File â€“ `/etc/exports`
- Specifies:
  - Which directories to share
  - Access rights for users/systems
  - Optional settings like encryption and transfer speed
- Example:
  ```bash
  /home/cry0l1t3/nfs_sharing hostname(rw,sync,no_root_squash)
```

##  ğŸ” Access Rights & Permissions
- Below listed are the permissions

| Permission       | Description                                                        |
| ---------------- | ------------------------------------------------------------------ |
| `rw`             | Read and write access to the shared directory                      |
| `ro`             | Read-only access to the shared directory                           |
| `no_root_squash` | Keeps **root user privileges** from the client system              |
| `root_squash`    | Converts **root user** on client to a **normal user**              |
| `sync`           | Transfers only **after data is written to disk** (more consistent) |
| `async`          | Faster, **asynchronous transfers** (may risk data inconsistency)   |

## ğŸ“¤ Create NFS Share


```bash
# Create a directory to share 
cry0l1t3@htb:~$ mkdir nfs_sharing  

# Configure /etc/exports 
cry0l1t3@htb:~$ echo '/home/cry0l1t3/nfs_sharing hostname(rw,sync,no_root_squash)' >> /etc/exports  

# View configured exports 
cry0l1t3@htb:~$ cat /etc/exports | grep -v "#"`

```

Output:

```bash
/home/cry0l1t3/nfs_sharing hostname(rw,sync,no_root_squash)

```


## ğŸ“¥ Mounting NFS Share on Client (Target System)

```bash
# Step 1: Create mount point
mkdir ~/target_nfs

# Step 2: Mount remote directory
mount 10.129.12.17:/home/john/dev_scripts ~/target_nfs

# Step 3: View contents
tree ~/target_nfs

```

Example Output:

```bash
target_nfs/
â”œâ”€â”€ css.css
â”œâ”€â”€ html.html
â”œâ”€â”€ javascript.js
â”œâ”€â”€ php.php
â””â”€â”€ xml.xml

0 directories, 5 files
```

## ğŸ§¨ Privilege Escalation Notes

- Misconfigured NFS (e.g., with `no_root_squash`) may allow:
    - Uploading malicious scripts
    - Executing code with elevated privileges
- This can be exploited during **penetration testing** to escalate access


## âœ… Summary
- NFS is powerful for sharing directories over networks
- Easy to configure and integrate with Linux systems
- Requires secure configuration to prevent privilege abuse

# ğŸŒ Apache Configuration, Python Web Server & VPN

## ğŸ—ï¸ Apache Configuration

```apache
<Directory /var/www/html>
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
</Directory>
```

- Grants access to the default `/var/www/html` directory.
- Enables:
    - `Indexes`: Directory listing.
    - `FollowSymLinks`: Follows symbolic links.
    - `AllowOverride All`: Permits `.htaccess` to override settings.
    - `Require all granted`: Grants all users access.
        

## ğŸ“ **Use Case**:
- Share files using a web server.
- Upload files to `/var/www/html`, then access via:
```bash
wget http://<server-ip>/file
curl http://<server-ip>/file
```

## ğŸ”§ .htaccess File (Directory-Level Customization)
- Configure access control & features without editing Apacheâ€™s main config.
- Add functionality using modules:
    - `mod_rewrite`
    - `mod_security`
    - `mod_ssl`

## ğŸ” VPN â€“ Virtual Private Network

> â€œA VPN is a secure, encrypted tunnel connecting your device to a remote network.â€
### âœ… Key Benefits

- Secure access to internal networks.    
- Encrypted traffic.
- Remote work support.
- Anonymity and intrusion protection.

### ğŸ’¼ Use Cases

- Organizations use VPNs to:
    - Enable **remote access** to internal resources.
    - **Encrypt traffic** and prevent MITM attacks.
- Penetration testers use VPNs to:
    - Securely connect to **internal lab networks**.
    - Bypass geographic restrictions.
    - Perform **internal assessments**.

## âš™ï¸ VPN Types (Linux-Compatible)

- **OpenVPN** (Most popular, open-source)
- **L2TP/IPsec**
- **PPTP**
- **SSTP**
- **SoftEther**

### ğŸ“ Config File Location
- `/etc/openvpn/server.conf` (Server settings)

## ğŸ”— Connect to VPN Using .ovpn File

```bash
sudo openvpn --config internal.ovpn
```

- `.ovpn` contains connection settings and certificates.
- Securely connects to remote/internal networks.

## ğŸ§  Summary
- **Apache** is great for hosting static files or websites.
- **Python Web Server** is perfect for quick file transfers.
- **VPN** secures connections to private/internal networks.